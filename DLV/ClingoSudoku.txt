% SUDOKU 4x4 (ejemplo)
tab(0,0,1).
tab(1,2,2).
tab(2,1,3).
tab(3,3,4).

#const n = 4.
#const b = 2.

1 { tab(X,Y,1..n) } 1 :- X=0..n-1, Y=0..n-1.

:- tab(X,Y1,V), tab(X,Y2,V), Y1 != Y2.
:- tab(X1,Y,V), tab(X2,Y,V), X1 != X2.

:- V = 1..n, BX = 0..b-1, BY = 0..b-1, DX1 = 0..b-1, DY1 = 0..b-1, DX2 = 0..b-1, DY2 = 0..b-1,
   X1 = BX*b + DX1, Y1 = BY*b + DY1, X2 = BX*b + DX2, Y2 = BY*b + DY2,
   IDX1 = DX1*b + DY1, IDX2 = DX2*b + DY2, IDX1 < IDX2,
   tab(X1,Y1,V), tab(X2,Y2,V).
